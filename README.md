<h1 align="center">NO DELETE MESSAGE BOT</h1>
<p align="center">
Небольшой бот для соц. сети ВКонтакте, который позволяет отслеживать и оповещать об удалённых и отредактированных сообщениях в беседах.
<br><br>
<img src="https://img.shields.io/github/stars/fakemancat/vk-donuts?style=for-the-badge" alt="stars"></img>
<img src="https://img.shields.io/github/forks/fakemancat/vk-donuts?style=for-the-badge" alt="forks"></img>
<img src="https://img.shields.io/github/issues/fakemancat/vk-donuts?style=for-the-badge" alt="forks"></img>
</p>

## Установка
* Скачать и установить [NodeJS](https://nodejs.org/ru) (То, на чём собственно и работает сам бот)
* Скачать и разархивировать репозиторий в удобное место
* Открыть терминал (командную строку) в папке с ботом (в этой папке должны быть файлы ```index.js``` ```config.json``` и т.д)
* Ввести команду ```npm i``` - это установит все нужные библиотеки

## Настройка
Вся настройка происходит в файле ```config.json```

Изначально конфигурационный файл выглядит так:

```json
{
    "token": "",
    "pathToChats": "./chats.json",
    "editTrigger": true,
    "deleteTrigger": true,
    "maxSavedMessagesInChat": 10,
    "admins": []
}
```

А теперь по каждому свойству:

|Свойство|Тип|Описание|
|-|-|-|
|token|string|Токен того пользователя, от лица которого будет производиться отслеживание сообщений и последующая отправка уведомлений в беседу. Токен получать от приложения ```Kate Mobile``` [здесь](https://vkhost.github.io)|
|pathToChats|string|Относительный путь до файла, в котором будут храниться кеш-сообщения. Содержание этого файла для Вас будет не важно. Он хранит в себе последние сообщения пользователей для каждой беседы, непосредственно является основой функционала. Если вы не разбираетесь в путях, то советую оставить как есть|
|editTrigger|boolean|Будет-ли бот отслеживать редактирование сообщений (true - да, false - нет)|
|deleteTrigger|boolean|Будет-ли бот отслеживать удаление сообщений (true - да, false - нет)|
|maxSavedMessagesInChat|number|Максимальное количество кеш-сообщений, которые будут храниться для каждой беседы. Если значение будет 10, то для каждой беседы бот будет проверять только последние 10 сообщений. Чем больше это число, тем больше памяти (как оперативной, так и постоянной) будет задействоваться, но зато сообщений, подвергнутых отслеживанию будет соответственно больше|
|admins|number[]|Массив с ВК-айдишниками администраторов. Администраторы имеют доступ к команде ```stats```, которая отображает текущую статистику по данной беседе|

## Запуск
* Открыть терминал в папке с ботом
* Прописать ```node index```

Если в терминале отобразится сообщение ```Бот запущен```, то запуск произвёлся успешно.

> :warning: Бота ***нельзя*** запускать на своей же странице, потому что он не будет реагировать на ваши сообщения, как для отслеживания, так и для команд.

> :warning: Бота надо запускать ***только на странице***. В боте-сообществе такой финт не прокатит

## Пример работы

<a href="https://imgur.com/Kw68nZq"><img src="https://i.imgur.com/Kw68nZq.gif" title="source: imgur.com" /></a>


## Полезные ссылки
* Мой ВК - https://fakeman-cat.tk/me
* Твой ВК - https://vk.com/id0